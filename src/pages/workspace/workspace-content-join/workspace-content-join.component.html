<app-header [title]="title" [subtitle]="subtitle">
  <div class="flex">
    <button pButton
      icon="pi pi-sliders-h"
      class="mr-2 p-button-text p-button-secondary border-round-xl"
      [ngClass]="{'text-blue-400 bg-blue-50': isShowToolbar}"
      (click)="isShowToolbar = !isShowToolbar">
    </button>
    <button pButton
      icon="pi pi-folder-plus"
      label="Join Project"
      class="border-round-lg">
    </button>
  </div>
</app-header>
<div *ngIf="isShowToolbar">
  <app-filter
    (onSearchEvent)="onSearch($event)"
    (setGroupValueEvent)="setGroupValue($event)"
    (setSortValueEvent)="setSortValue($event)">
  </app-filter>
</div>


<app-scrolling 
  [isShowToolbar]="isShowToolbar">
  @if (mode === 'NONE') {
    <div class="grid mx-2">
      @for (project of listProject; track $index) {
      <div class="col-12 sm:col-6 md:col-4 lg:col-3 select-none">
        <div class="selector-card surface-card shadow-1 border-round border-rounded-sm cursor-pointer">
          <img src="http://dummyimage.com/250x150.png/ff4444/ff4444" height="150"
            class="mb-1 w-full border-round-top-sm" />
          <div class="flex flex-column px-3 pb-3">
            <div class="font-medium text-900">{{ project.project_name }}</div>
            <div class="text-sm text-500">{{ project.project_type }}</div>
            <button pButton pRipple label="Join Project" 
              class="p-button mt-2 w-full">
            </button>
          </div>
        </div>
      </div>
      }
    </div>
  } @else if (mode === 'GROUP') {
    <div class="mx-3 -mt-2">
      @for (project of grouplistProject | keyvalue; track $index) {
        <p-accordion [multiple]="true" [value]="[project.key]">
          <p-accordion-panel [value]="project.key">
            <p-accordion-header>{{ project.key }}</p-accordion-header>
            <p-accordion-content>
              <div class="grid pt-2">
                <div *ngFor="let project of project.value" class="col-12 sm:col-6 md:col-4 lg:col-3 select-none">
                  <div class="selector-card surface-card shadow-1 border-round border-rounded-sm cursor-pointer">
                    <img src="http://dummyimage.com/250x150.png/ff4444/ff4444" height="150"
                      class="mb-1 w-full border-round-top-sm" />
                    <div class="flex flex-column px-3 pb-3">
                      <div class="font-medium text-900">{{ project.project_name }}</div>
                      <div class="text-sm text-500">{{ project.project_type }}</div>
                      <button pButton pRipple label="Join Project" 
                        class="p-button mt-2 w-full">
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </p-accordion-content>
          </p-accordion-panel>
        </p-accordion>
        }
    </div>
  }
</app-scrolling>